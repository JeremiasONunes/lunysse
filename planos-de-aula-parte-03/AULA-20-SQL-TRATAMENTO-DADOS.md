### 🎓 Aula 20 – Linguagem SQL para Tratamento de Dados

📌 **Disciplina:** Programação Avançada e Integração de Dados  
👨🏫 **Mentor(a):** Jeremias O Nunes  
📆 **Data:** Aula 20  
⏰ **Duração:** 4h  

---

## 📖 Planejamento  

### 📌 Contextualização e Conexão com a Aula Anterior
Após otimizar a performance e qualidade do Sistema Lunysse na Aula 19, os alunos avançam para **integração de dados via SQL**, criando consultas, operações CRUD e relações complexas, conectando front-end e back-end de forma eficiente.

### 📌 Conteúdo Formativo
- Modelagem de dados para sistema de saúde  
- Consultas SQL para CRUD de pacientes, psicólogos e agendamentos  
- Joins, relacionamentos e integridade referencial  
- Stored procedures e consultas complexas para relatórios  
- Desenvolvimento de API mock para integração com SQL  
- Otimização de consultas, índices e performance de banco de dados  

### 🎯 Objetivo Geral
Capacitar os alunos a **integrar dados de forma eficiente**, garantindo consistência, performance e escalabilidade para o Sistema Lunysse.

### 💡 Habilidades e Competências
✅ Modelar dados para aplicações de saúde  
✅ Criar consultas SQL básicas e avançadas  
✅ Implementar joins e relacionamentos complexos  
✅ Criar stored procedures para relatórios dinâmicos  
✅ Desenvolver APIs mock integradas com banco de dados  
✅ Otimizar consultas e índices para alta performance  

### 📌 Materiais Necessários
📌 Projeto Lunysse com back-end básico implementado  
📌 Ambiente de banco de dados (MySQL/PostgreSQL ou SQLite)  
📌 Editor de código com extensão SQL (VSCode)  
📌 Ferramentas de teste de API (Postman/Insomnia)  

---

## 🎓 Estratégias de Ensino e Aprendizagem  

### Introdução e Contextualização (20 min)  
**Metodologia Ativa – Demonstração:**  
- Revisão da performance e debugging aplicados na Aula 19  
- Apresentação da arquitetura de dados do Sistema Lunysse  
- Discussão sobre integridade, relacionamentos e normalização  

---

### **Tópico 1: Modelagem e CRUD SQL (60 min)**  
#### 📌 Demonstração Prática
**Metodologia Ativa – Workshop Guiado:**  
- Criação de tabelas: Users, Patients, Appointments  
- Inserção, atualização, exclusão e seleção de registros  
- Aplicação de constraints e tipos de dados corretos  

#### 📌 Atividade Prática 1
🎯 **Objetivo:** Implementar CRUD funcional  
📝 **Tarefa:**  
- Criar tabelas e relacionamentos  
- Testar queries básicas no banco de dados  
- Validar integridade referencial  

**Parte do Projeto Construída:** Sistema Lunysse com CRUD básico funcional e dados consistentes.

---

### **Tópico 2: Joins, Relacionamentos e Relatórios (60 min)**  
#### 📌 Demonstração Prática
**Metodologia Ativa – Laboratório Guiado:**  
- Implementação de INNER JOIN, LEFT JOIN, RIGHT JOIN  
- Consultas complexas para relatórios de agendamentos e pacientes  
- Criação de stored procedures para operações repetitivas  

#### 📌 Atividade Prática 2
🎯 **Objetivo:** Gerar relatórios dinâmicos e integrar dados  
📝 **Tarefa:**  
- Criar queries complexas utilizando joins  
- Implementar stored procedures para relatórios padrão  
- Testar resultados e otimizar performance  

**Parte do Projeto Construída:** Relatórios funcionais para consultas, pacientes e psicólogos.

---

### **Tópico 3: API Mock e Otimização (60 min)**  
#### 📌 Demonstração Prática
**Metodologia Ativa – Laboratório Guiado:**  
- Criação de API mock para integrar front-end React com SQL  
- Implementação de endpoints GET, POST, PUT, DELETE  
- Otimização de queries com índices e análise de performance  

#### 📌 Atividade Prática 3
🎯 **Objetivo:** Integrar front-end com dados SQL  
📝 **Tarefa:**  
- Criar endpoints mock e testar com Postman  
- Implementar otimizações de consultas  
- Garantir consistência de dados entre front-end e banco  

**Parte do Projeto Construída:** Sistema Lunysse com back-end funcional, API mock integrada e queries otimizadas.

---

### Encerramento e Reflexão (20 min)  
#### 📌 Discussão em grupo  
**Metodologia Ativa – Feedback Coletivo:**  
- Revisão da integração front-end/back-end  
- Reflexão sobre performance e segurança de dados  
- Preparação para auditoria de inconsistências na Aula 21  

#### 📌 Desafio para próxima aula  
- Planejar checklist de auditoria W3C e testes de consistência de dados.

---

### 📌 Objetos de Aprendizagem  
📝 **Materiais Didáticos Utilizados:**  
- Projeto Lunysse com front-end otimizado  
- Banco de dados de exemplo com dados realistas  
- Editor VSCode e Postman  
- Documentação de queries e relacionamentos  

---

## 🎯 Avaliação  

### **Avaliação Formativa (Durante a aula):**  
✅ Tabelas e relacionamentos criados corretamente  
✅ Queries CRUD e joins implementados  
✅ Stored procedures funcionais  
✅ API mock testada e integrada  

### **Avaliação Somativa (Entregáveis):**  
✅ Sistema Lunysse com back-end SQL funcional, dados consistentes e integrado ao front-end  

### **Critérios de Qualidade:**  
- **Excelente (9-10):** Dados totalmente integrados, queries otimizadas e API funcional  
- **Bom (7-8):** Pequenas melhorias em queries ou endpoints necessários  
- **Satisfatório (6-7):** CRUD básico implementado, mas sem otimizações avançadas  
- **Insatisfatório (<6):** Inconsistências de dados ou falhas na integração  

---

## 🎓 Conclusão  

### **Aprendizado Esperado:**  
- Modelar banco de dados para aplicações de saúde  
- Criar queries SQL complexas e otimizar performance  
- Implementar API mock integrada com front-end React + Vite  
- Garantir consistência, integridade e eficiência no tratamento de dados